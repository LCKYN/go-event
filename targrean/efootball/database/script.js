var data = [
    {
        "name": "Jumper",
        "time": new Date("04/07/2023 11:40 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093938277855285308/image.png",
    },
    {
        "name": "Ford",
        "time": new Date("04/07/2023 11:38 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937877689323530/image.png",
    },
    {
        "name": "Arona",
        "time": new Date("04/07/2023 11:38 PM"),
        "tactic": "4-2-3-1",
        "backfield": 4,
        "midfield": 5,
        "forward": 1,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937824845271040/image.png",
    },
    {
        "name": "AuiAuii",
        "time": new Date("04/07/2023 11:38 PM"),
        "tactic": "4-1-1-4",
        "backfield": 4,
        "midfield": 2,
        "forward": 4,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937763407106149/Screenshot_2023-04-03_212737.png",
    },
    {
        "name": "Melly69",
        "time": new Date("04/07/2023 11:38 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937762341748888/image.png",
    },
    {
        "name": "c1ONUTx",
        "time": new Date("04/07/2023 11:38 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937760756305930/image.png",
    },
    {
        "name": "DEK_NA_HEE",
        "time": new Date("04/07/2023 11:38 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937750060826764/image.png",
    },
    {
        "name": "MarkzanaRak",
        "time": new Date("04/07/2023 11:37 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093937699158765578/efot.PNG",
    },
    {
        "name": "give rune or hit item",
        "time": new Date("04/07/2023 9:30 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093905739875106936/image.png",
    },
    {
        "name": "AuiAuii",
        "time": new Date("04/07/2023 9:30 PM"),
        "tactic": "4-1-1-4",
        "backfield": 4,
        "midfield": 2,
        "forward": 4,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093905739329847376/Screenshot_2023-04-03_212737.png",
    },
    {
        "name": "Redbear11",
        "time": new Date("04/07/2023 9:30 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093905605246324766/Screenshot_68.png",
    },
    {
        "name": "NopnyS",
        "time": new Date("04/07/2023 9:27 PM"),
        "tactic": "4-4-2",
        "backfield": 4,
        "midfield": 4,
        "forward": 2,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093904972569120818/image.png",
    },
    {
        "name": "Zankater11",
        "time": new Date("04/07/2023 9:25 PM"),
        "tactic": "4-1-4-1",
        "backfield": 4,
        "midfield": 5,
        "forward": 1,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093904501708165190/image.png",
    },
    {
        "name": "BBA_BBO",
        "time": new Date("04/07/2023 9:24 PM"),
        "tactic": "4-2-1-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093904166755237920/Untitled.png",
    },
    {
        "name": "Fourth FriendlyFire",
        "time": new Date("04/07/2023 9:22 PM"),
        "tactic": "3-4-3",
        "backfield": 3,
        "midfield": 4,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093903516449394718/image.png",
    },
    {
        "name": "ใจเกเร",
        "time": new Date("04/07/2023 9:19 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093902783813537922/image.png",
    },
    {
        "name": "ELIXZER",
        "time": new Date("04/07/2023 9:15 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093901802736463942/Screenshot_145.png",
    },
    {
        "name": "NaNice",
        "time": new Date("04/07/2023 9:14 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093901671890960404/image.png",
    },
    {
        "name": "neNutni",
        "time": new Date("04/07/2023 9:12 PM"),
        "tactic": "4-4-2",
        "backfield": 4,
        "midfield": 4,
        "forward": 2,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093901009090252880/image.png",
    },
    {
        "name": "IMYOURJOY",
        "time": new Date("04/07/2023 9:11 PM"),
        "tactic": "4-4-2",
        "backfield": 4,
        "midfield": 4,
        "forward": 2,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093900943495528508/image.png",
    },
    {
        "name": "Newhausenz",
        "time": new Date("04/07/2023 9:11 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093900800549462066/image.png",
    },
    {
        "name": "โห้เธอเจ็บจี้ด",
        "time": new Date("04/07/2023 9:11 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093900769830371418/image.png",
    },
    {
        "name": "REQUIEM ( มีน )",
        "time": new Date("04/07/2023 9:09 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093900462203342919/273774444.jpg",
    },
    {
        "name": "Mingurii",
        "time": new Date("04/07/2023 9:08 PM"),
        "tactic": "4-3-3",
        "backfield": 4,
        "midfield": 3,
        "forward": 3,
        "image": "https://cdn.discordapp.com/attachments/1087752910756126752/1093900118694055986/image.png",
    }
    // {
    //     "name": "",
    //     "time": new Date(""),
    //     "tactic": "",
    //     "backfield": ,
    //     "midfield": ,
    //     "forward": ,
    //     "image": "",
    // }
]

document.getElementById("search").addEventListener("click", function () {
    let name = document.getElementById("name").value;
    let tactic = document.getElementById("full_tactic").value;
    let backfield = tactic ? tactic.split("-")[0] : document.getElementById("backfield").value;
    let midfield = tactic ? tactic.split("-")[1] : document.getElementById("midfield").value;
    let forward = tactic ? tactic.split("-")[2] : document.getElementById("forward").value;
    show_data(name, parseInt(backfield), parseInt(midfield), parseInt(forward));

});

function show_data(name, backfield, midfield, forward) {
    let main = document.getElementById("show_data");
    main.innerHTML = "";

    let res = data.sort(function(a,b){
        return new Date(b.time) - new Date(a.time);
      });

    if (name) {
        res = res.filter(data => new RegExp(name, "i").exec(data.name));
    }
    if (backfield) {
        res = res.filter(data => data.backfield == backfield);
    }
    if (midfield) {
        res = res.filter(data => data.midfield == midfield);
    }
    if (forward) {
        res = res.filter(data => data.forward == forward);
    }

    let count = 0;

    for (const tactic in res) {
        const tactic_box = document.createElement("div");
        tactic_box.className = "flex_column_center small_margin";

        const tactic_name = document.createElement("label");
        tactic_name.className = "small_margin";
        tactic_name.innerText = `(${res[tactic].tactic}) By ${res[tactic].name} - ${res[tactic].time.toLocaleString().split(',')[0]}`;

        const tactic_image = document.createElement("img");
        tactic_image.className = "image3";
        tactic_image.src = res[tactic].image;

        tactic_box.appendChild(tactic_name);
        tactic_box.appendChild(tactic_image);

        main.appendChild(tactic_box);

        count += 1;

        if (count > 20)
            break;
    }
}
